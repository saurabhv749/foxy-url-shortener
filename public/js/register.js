function setupRegistrationForm(){const e=document.getElementById("register-form"),t=document.getElementById("username"),n=document.getElementById("password"),o=document.getElementById("message");let s;e.addEventListener("submit",(async function(e){e.preventDefault();const r=t.value,a=n.value;try{const e=await fetch("/spoof/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:a})});if(e.ok){const{success:t,message:n}=await e.json();o.innerText=n,o.parentElement.classList.add("visible"),s&&(clearTimeout(s),s=null),s=setTimeout((()=>{o.parentElement.classList.remove("visible"),t&&(window.location.href="/spoof/login")}),2e3)}}catch(e){console.error("An error occurred:",e)}}))}document.addEventListener("DOMContentLoaded",setupRegistrationForm);